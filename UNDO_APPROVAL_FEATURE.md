# โจ ููุฒุฉ ุฌุฏูุฏุฉ: ุฅูุบุงุก ุงูููุงููุฉ (Undo Approval)

## ๐ฏ ุงููุดููุฉ ุงูุชู ุชุญู:
- ูุงููุช ุนูู ุงุฌุชูุงุน **ุจุงูุบูุท**
- ุงูุงุฌุชูุงุน **ุงุฎุชูู** ูู ุงููุงุฆูุฉ
- ุฃุฑูุฏ **ุฅูุบุงุก ุงูููุงููุฉ** ู**ุชุนุฏูู ุงูุจูุงูุงุช**

---

## โ ุงูุญู ุงูุฌุฏูุฏ:

### ุงูููุฒุงุช:
1. โ **ุฅูุบุงุก ุงูููุงููุฉ**: ุงูุนูุฏุฉ ูู `approved` ุฅูู `pending`
2. โ **ุชุนุฏูู ุงูุจูุงูุงุช**: ุงูุขู ููููู ุฅุนุงุฏุฉ ุชุนุฏูู ุงูุงุฌุชูุงุน
3. โ **ุฅุนุงุฏุฉ ุงูููุงููุฉ**: ุจุนุฏ ุงูุชุนุฏูู ุชูุงูู ูุฑุฉ ุชุงููุฉ

---

## ๐๏ธ ููู ุชุณุชุฎุฏูู:

### 1๏ธโฃ ูู ุงููุงุฌูุฉ (UI)
ุณูุธูุฑ ุฒุฑ **"ุฅูุบุงุก ุงูููุงููุฉ"** ูู ุตูุญุฉ ุงูุงุฌุชูุงุน ุงููุนุชูุฏ:
```
[โ ููุงูู ุนููู] โ ุงุถุบุท ููุนูุฏุฉ
   โ
[โณ ูู ุงูุชุธุงุฑ ุงูููุงููุฉ] โ ุงูุญุงูุฉ ุงูุฌุฏูุฏุฉ
```

### 2๏ธโฃ ุนุจุฑ API
```bash
POST /meetings/{meeting_id}/undo-approval
```

### 3๏ธโฃ ูู ุงูููุฏ
```php
$meeting->undo(); // ุฅุฐุง ุฃุถููุง method ูู Model
```

---

## ๐ ูุง ุงูุฐู ูุญุฏุซ:

### ุนูุฏ ุงูุถุบุท ุนูู "ุฅูุบุงุก ุงูููุงููุฉ":

**ูุจู:**
```php
approval_status = 'approved'
approved_by = 5  // Technical Support
approved_at = 2024-10-17 15:30:00
approval_notes = "ููุงููุฉ"
```

**ุจุนุฏ:**
```php
approval_status = 'pending'  โ ุนุงุฏ ูููุนูู
approved_by = null           โ ูุณุญ ุงููุนุชูุฏ
approved_at = null           โ ูุณุญ ุงูุชุงุฑูุฎ
approval_notes = null        โ ูุณุญ ุงูููุงุญุธุงุช
```

---

## ๐ ุงูุดุฑูุท:

1. โ **ูุฌุจ ุชููู Technical Support** (ููุท TS ููุฏุฑ ููุบู)
2. โ **ุงุฌุชูุงุน ุนููู ููุท** (ูุง ูููู ูู ุฏุงุฎูู)
3. โ **approved ุฃู auto_approved** (ูุง ูู pending ุฃู rejected)

---

## ๐ ุงูุงุณุชุฎุฏุงู ุงูุนููู:

### ุงูุฎุทูุงุช:
1. **TS ููุชุญ ุงูุงุฌุชูุงุน ุงููุนุชูุฏ**
2. **ูุถุบุท "ุฅูุบุงุก ุงูููุงููุฉ"** (ุฒุฑ ุฌุฏูุฏ)
3. **ุงูุงุฌุชูุงุน ูุฑุฌุน ูู pending**
4. **ููุฏุฑ ูุนุฏู ุงูููุช/ุงูุจูุงูุงุช**
5. **ููุงูู ูุฑุฉ ุชุงููุฉ**

---

## ๐ฒ ูู ุงููุงุฌูุฉ:

```html
<!-- ุตูุญุฉ ุงูุงุฌุชูุงุน (show.blade.php) -->

@if($meeting->type === 'client' && $meeting->approval_status === 'approved')
    <form action="{{ route('meetings.undo-approval', $meeting) }}" method="POST">
        @csrf
        <button type="submit" class="btn btn-warning">
            โ๏ธ ุฅูุบุงุก ุงูููุงููุฉ
        </button>
    </form>
@endif
```

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ:

- **ูุง ูููู ุฅูุบุงุก** ุงุฌุชูุงุนุงุช `rejected`
- **ูุง ูููู ุฅูุบุงุก** ุงุฌุชูุงุนุงุช `pending` (ูุง ููุงูู ุนูููุง ุฃุตูุงู)
- **ููุท Technical Support** ููุฏุฑ ููุบู
- **ุงูุจูุงูุงุช ุงููุฏููุฉ** ุชููุณุญ ุนูุฏ ุงูุฅูุบุงุก

---

## ๐ ุฑุณู ุงูุนูููุฉ:

```
ุงูุงุฌุชูุงุน: auto_approved
    โ
[ููุงููุฉ ุจุงูุบูุท]
    โ
approved
    โ
[ุงุถุบุท: ุฅูุบุงุก ุงูููุงููุฉ]
    โ
pending (ุฑุฌุน ููุฃูู)
    โ
[ุนุฏูู ุงูุจูุงูุงุช]
    โ
[ูุงูู ูุฑุฉ ุชุงููุฉ]
    โ
approved (ููุงูู ุตุญ)
```

---

## โจ ุงููุชูุฌุฉ:

โ ุชูููุช ูุดููุฉ "ูุงููุช ุจุงูุบูุท"
โ ูุฏุฑุช ุฃุนุฏู ุงูุจูุงูุงุช
โ ูุงููุช ุจุงูุตุญ ุงูุขู

